<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Tu TiÃªn Giá»›i</title>

<style>
/* ===== BASE ===== */
body{
  margin:0;
  background:#020617;
  color:#e5e7eb;
  font-family:system-ui,-apple-system;
}
.hidden{display:none}
button{
  background:#2563eb;
  color:white;
  border:none;
  padding:8px;
  border-radius:6px;
  width:100%;
  margin:4px 0;
}
header{
  text-align:center;
  padding:10px;
  border-bottom:1px solid #1e293b;
  font-weight:bold;
  letter-spacing:1px;
}

/* ===== SCENE CONTAINER ===== */
#scene{
  height:160px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:15px;
  position:relative;
  overflow:hidden;
}

/* ===== AURA TU LUYá»†N ===== */
.cultivation{
  animation:glow 2s infinite;
}
@keyframes glow{
  0%{box-shadow:0 0 10px rgba(56,189,248,.2)}
  50%{box-shadow:0 0 30px rgba(56,189,248,.6)}
  100%{box-shadow:0 0 10px rgba(56,189,248,.2)}
}

/* ===== PANELS ===== */
.panel{
  border:1px solid #1e293b;
  margin:6px;
  padding:6px;
  border-radius:6px;
  font-size:13px;
}

/* ===== NAV ===== */
#nav{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:6px;
  margin:6px;
}

/* ===== LOG ===== */
#log{
  height:140px;
  overflow:auto;
  padding:6px;
  font-size:13px;
  border-top:1px solid #1e293b;
}

/* ===== BATTLE FIELD ===== */
#battleField{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  width:100%;
  height:120px;
  padding:10px;
  box-sizing:border-box;
}
.unit{
  width:64px;
  height:96px;
  border-radius:8px;
  position:relative;
}
.player{
  background:linear-gradient(180deg,#38bdf8,#0ea5e9);
}
.enemy{
  background:linear-gradient(180deg,#fb7185,#be123c);
}
.hpbar{
  position:absolute;
  top:-10px;
  left:0;
  height:6px;
  background:#22c55e;
  border-radius:4px;
  transition:.3s;
}
.attack{animation:attack .3s}
.hit{animation:hit .3s}

@keyframes attack{
  0%{transform:translateX(0)}
  50%{transform:translateX(20px)}
  100%{transform:translateX(0)}
}
@keyframes hit{
  0%{transform:translateX(0)}
  50%{transform:translateX(-6px)}
  100%{transform:translateX(0)}
}

/* ===== PROGRESS BAR ===== */
.progress{
  height:8px;
  background:#1e293b;
  border-radius:6px;
  overflow:hidden;
}
.progress > div{
  height:100%;
  background:#22c55e;
  width:0%;
  transition:.4s;
}
</style>
</head>

<body>

<header>ğŸ¯ TU TIÃŠN GIá»šI</header>

<!-- LOGIN -->
<div id="login">
  <div class="panel">
    <input id="user" placeholder="TÃ i khoáº£n" style="width:100%;margin-bottom:6px">
    <input id="pass" type="password" placeholder="Máº­t kháº©u" style="width:100%">
    <button onclick="login()">ÄÄƒng nháº­p / ÄÄƒng kÃ½</button>
  </div>
</div>

<!-- CREATE CHARACTER -->
<div id="create" class="hidden">
  <div class="panel">
    <b>ğŸ§™â€â™‚ï¸ Táº¡o nhÃ¢n váº­t</b><br><br>
    <b>Giá»›i tÃ­nh</b>
    <button onclick="selectGender('Nam')">Nam</button>
    <button onclick="selectGender('Ná»¯')">Ná»¯</button>
    <div id="rollInfo" style="margin-top:6px"></div>
    <button onclick="rollAll()">ğŸ² Roll linh cÄƒn & tiÃªn thiÃªn</button>
    <button onclick="confirmChar()">âœ” XÃ¡c nháº­n</button>
  </div>
</div>

<!-- GAME -->
<div id="game" class="hidden">

  <!-- SCENE -->
  <div id="scene">ğŸ§˜ Tu luyá»‡nâ€¦</div>

  <!-- BATTLE VISUAL -->
  <div id="battleField" class="hidden">
    <div class="unit player">
      <div class="hpbar" id="pHp"></div>
    </div>
    <div class="unit enemy">
      <div class="hpbar" id="eHp"></div>
    </div>
  </div>

  <!-- INFO -->
  <div class="panel">
    Cáº£nh giá»›i: <span id="realm"></span><br>
    Linh khÃ­: <span id="qi"></span>/<span id="maxQi"></span><br>
    Linh cÄƒn: <span id="lingCan"></span>
  </div>

  <!-- NAV -->
  <div id="nav">
    <button onclick="switchScene('cultivation')">ğŸ§˜ Tu luyá»‡n</button>
    <button onclick="startBattle()">âš”ï¸ Chiáº¿n Ä‘áº¥u</button>
    <button onclick="switchScene('secret')">ğŸ•³ï¸ BÃ­ cáº£nh</button>
    <button onclick="switchScene('home')">ğŸ  Äá»™ng phá»§</button>
    <button onclick="switchScene('alchemy')">âš—ï¸ Luyá»‡n Ä‘an</button>
    <button onclick="switchScene('forge')">ğŸ”¨ Luyá»‡n khÃ­</button>
  </div>

  <!-- EXTRA SCENE CONTENT -->
  <div class="panel hidden" id="alchemyPanel">
    <b>âš—ï¸ Luyá»‡n Ä‘an</b>
    <div class="progress"><div id="alchemyBar"></div></div>
  </div>

  <div class="panel hidden" id="forgePanel">
    <b>ğŸ”¨ Luyá»‡n khÃ­</b>
    <div class="progress"><div id="forgeBar"></div></div>
  </div>

  <!-- LOG -->
  <div id="log"></div>
</div>

<script src="data.js"></script>
<script src="game.js"></script>
</body>
</html>
